---
title: Using aliases
---

When generating code, Apollo Android uses the name of your fields to generate matching typesafe models using a flat hierarchy. The following query:

```graphql:title=GetContact.graphql
query GetContact {
  contact(name: "Byron") {
    # The generated model will be named `HomeAddress`
    homeAddress {
      street
    }
    # The generated model will be named `WorkAddress`
    workAddress {
      country
    }
  }
}
```

will generate models like this:

```kotlin
class GetContact {
  class Data { ... }
  class Contact { ... }
  class HomeAddress { ... }
  class WorkAddress { ... }
}
```

The driving principles behind the naming conventions are:
* Use the field name for naming models: using the schema type name would make a lot of conflicts. In the example above, we would have two `Address` classes.
* Keep a flat hierarchy of classes: we considered using nested classes but that can lead to very long names.
* Singularize the field name when it is a list: if your query contains a `nodes` fields, it makes more sense to generate a `List<Node>` than a `List<Nodes>`.

These principles work great for the vast majority of cases but can't account for name clashes or peculiar singularization rules. To workaround this, you can use GraphQL [aliases](https://graphql.org/learn/queries/#aliases).

# Using aliases to avoid name clashes

Since the class hierarchy is flat, having two fields with the same name in two different parts of the query tree could lead to name clashes. Having relay-style pagination with lots of `nodes` or `edges` fields, might typically trigger name clashes. To avoid them, Apollo Android will append a numeric suffix to your models:

```graphql:title=GetContact.graphql
query GetContacts {
  contact(name: "Byron") {
    # The generated model will be named `HomeAddress`
    homeAddress {
      street
    }
  }
  emergencyContact {
    # The generated model will be named `HomeAddress1` by default
    homeAddress {
      street
    }
  }
}
```

Suffixing avoids the name clash but feels a bit out of place and it's hard to remember what `HomeAddress1` is about. To workaround this issue, you can alias the field:

```graphql:title=GetContact.graphql
query GetContacts {
  contact(name: "Byron") {
    # The generated model will be named `HomeAddress`
    homeAddress {
      street
    }
  }
  emergencyContact {
    # With an alias, the generated model will be named `EmergencyAddress`
    emergencyAddress: homeAddress {
      street
    }
  }
}
```

# Using aliases to fix singularization rules

The [singularization code](https://github.com/martinbonnin/apollo-android/blob/master/apollo-compiler/src/main/kotlin/com/apollographql/apollo/compiler/Inflector.kt) works most of time but does not contain all exceptions in the english dictionnary.

If it's the case, please let me know so I can put a valid example here (we usually fix issues as we go but you might still encounter some). And also use an alias.

